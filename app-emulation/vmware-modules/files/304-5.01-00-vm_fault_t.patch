diff --git a/vmmon-only/linux/driver.c b/vmmon-only/linux/driver.c
index d2c02e0..3f9943c 100644
--- a/vmmon-only/linux/driver.c
+++ b/vmmon-only/linux/driver.c
@@ -109,7 +109,11 @@ static long LinuxDriver_UnlockedIoctl(struct file *filp,
 static int LinuxDriver_Close(struct inode *inode, struct file *filp);
 static unsigned int LinuxDriverPoll(struct file *file, poll_table *wait);
 #if defined(VMW_NOPAGE_2624)
+#if LINUX_VERSION_CODE >= KERNEL_VERSION(5, 1, 0)
+static vm_fault_t LinuxDriverFault(struct vm_fault *fault);
+#else
 static int LinuxDriverFault(struct vm_fault *fault);
+#endif
 #else
 static struct page *LinuxDriverNoPage(struct vm_area_struct *vma,
                                       unsigned long address,
@@ -967,7 +971,11 @@ LinuxDriverPollTimeout(unsigned long clientData)  // IN:
  */
 
 #if defined(VMW_NOPAGE_2624)
+#if LINUX_VERSION_CODE >= KERNEL_VERSION(5, 1, 0)
+static vm_fault_t LinuxDriverFault(struct vm_fault *fault)     //IN/OUT
+#else
 static int LinuxDriverFault(struct vm_fault *fault)     //IN/OUT
+#endif
 #else
 static struct page *LinuxDriverNoPage(struct vm_area_struct *vma, //IN
                                       unsigned long address,      //IN
